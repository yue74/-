class Solution {
public:
    bool isUnivalTree(TreeNode* root) {
        if (root == NULL) {
            return true;
        }
        if (root->left) {
            if (root->val != root->left->val) {
                return false;
            }
            if (!isUnivalTree(root->left)) {
                return false;
            }
        }
        if (root->right) {
            if (root->val != root->right->val) {
                return false;
            }
            if (!isUnivalTree(root->right)) {
                return false;
            }
        }
        return true;
    }
};
